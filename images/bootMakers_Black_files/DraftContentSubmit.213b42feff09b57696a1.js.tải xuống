!function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="//d36aba6isifr8u.cloudfront.net/",n(n.s=1064)}({1064:function(e,t,n){"use strict";(self.webpackChunkreact_app=self.webpackChunkreact_app||[]).push([[530],{75831:function(e,t,n){n.d(t,{J:function(){return r},b:function(){return o}});var r=function(e){return e.Pending="pending",e.Approved="approved",e.Rejected="rejected",e.ConditionallyApproved="conditionally_approved",e}({}),o=function(e){return e.NeedsWork="NeedsWork",e.Approved="Approved",e.ApprovedWithCorrections="ApprovedWithCorrections",e.Submitted="Submitted",e.Required="Required",e}({})},29381:function(e,t,n){n.d(t,{s:function(){return r.s}});var r=n(7595)},7595:function(e,t,n){n.d(t,{s:function(){return a}});var r=n(91933),o=n(53954),i=n(92575),a=function(e){return(0,r.useQuery)([i.NS,e],(function(){return(0,o.p2)(e)}),{retry:!0})}},99067:function(e,t,n){n.r(t),n.d(t,{DraftContentSubmit:function(){return q},FormFieldsEnum:function(){return E}});var r=n(74165),o=n(15861),i=n(29439),a=n(72791),l=n(80848),c=n(58914),s=n(62812),u=n(67414),d=n(8126),p=n(61134),f=n(33168),x=n(57689),m=n(11087),h=n(60874),v=n(69822),b=n(1413),g=n(50228),y=n(96746),k=n(80184),C=function(e){var t=e.name,n=e.control,r=e.placeholder,o=e.containerStyles,i=(0,f.$)("DraftContent",{keyPrefix:"SubmitDraftContent"}).t;return(0,k.jsx)(p.Qr,{control:n,name:t,render:function(e){var n,a=e.field,l=e.formState.errors,c=!!l[t];return(0,k.jsxs)(g.Z,{sx:(0,b.Z)({width:"100%"},o),children:["link"===t&&(0,k.jsxs)(k.Fragment,{children:[(0,k.jsxs)(s.Z,{sx:function(e){return{color:e.palette.mvkBlack.textColor}},"data-testid":"label-".concat(t),children:[i("linkOrUrlLabel")," ",(0,k.jsx)("span",{style:{color:"red"},children:"*"})]}),(0,k.jsx)(y.Z,(0,b.Z)((0,b.Z)({},a),{},{error:c,"data-testid":"outlined-input-".concat(t),placeholder:r,sx:{width:"100%"}}))]}),"link"!==t&&(0,k.jsxs)(k.Fragment,{children:[(0,k.jsxs)(s.Z,{sx:function(e){return{color:e.palette.mvkBlack.textColor}},"data-testid":"label-".concat(t),children:[i("labels.Caption"),(0,k.jsx)("span",{style:{color:"red"},children:"*"})]}),(0,k.jsx)("textarea",(0,b.Z)((0,b.Z)({},a),{},{rows:5,"data-testid":"textarea-".concat(t),style:{width:"100%",maxWidth:"100%",minWidth:"100%",height:"130px",padding:"1em",border:"1px solid rgb(193,193,193)"}}))]}),(0,k.jsx)(s.Z,{sx:function(e){return{color:e.palette.mvkRed.required,fontSize:"14px"}},"data-testid":"field-error-".concat(t),children:c&&(null===(n=l[t])||void 0===n?void 0:n.message)})]})}})},R=function(e){var t=e.name,n=e.control,r=e.containerStyles,o=(0,f.$)("DraftContent",{keyPrefix:"SubmitDraftContent"}).t;return(0,k.jsx)(p.Qr,{control:n,name:t,render:function(e){var n=e.field;return(0,k.jsxs)(g.Z,{sx:(0,b.Z)({width:"100%"},r),children:[(0,k.jsx)(s.Z,{sx:function(e){return{color:e.palette.mvkBlack.textColor}},"data-testid":"label-".concat(t),children:o("additionalNotes")}),(0,k.jsx)("textarea",(0,b.Z)((0,b.Z)({},n),{},{rows:5,style:{width:"100%",maxWidth:"100%",minWidth:"100%",height:"130px",padding:"1em",border:"1px solid rgb(193,193,193)"}}))]})}})},w=[c.RR.facebook,c.RR.facebook_reel,c.RR.image,c.RR.instagram,c.RR.instagram_reel,c.RR.instagram_story,c.RR.pinterest,c.RR.tiktok,c.RR.video],j=function(e){return w.includes(e)},Z={caption:"",link:"",additionalNotes:"",contentFiles:[]},S=function(e){return new RegExp("(\\s|^)".concat(e,"(\\s|$)"),"i")},D=n(93433),F=n(50650),P=n(80970),T=n(65924),_=n(99139),A=n(98416),I=new RegExp("(image|video|x-(?:[0-9A-Za-z!#$%&'*+.^_`|~-]+))/([0-9A-Za-z!#$%&'*+.^_`|~-]+)"),z=function(e){return function(t){return e===c.RR.blog&&!new RegExp(".*/.*").test(t.type)||e!==c.RR.blog&&!I.test(t.type)?{message:"Invalid file type",code:A.jK.FileInvalidType}:null}},B=function(e){return!(!e.includes("image")&&!e.includes("video"))},U=function(e){var t=e.contentType,n=e.contentFiles,l=e.setContentFiles,u=e.requiredUploadError,d=void 0!==u&&u,p=(0,f.$)("DraftContent",{keyPrefix:"SubmitDraftContent"}).t,x=(0,v.Ly)().config,m=(0,a.useState)(!1),h=(0,i.Z)(m,2),y=h[0],C=h[1],R=(0,a.useCallback)(function(){var e=(0,o.Z)((0,r.Z)().mark((function e(t){var n;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return C(!0),e.t0=P.nJ,e.next=4,(0,P.ds)(t);case 4:e.t1=e.sent,n=(0,e.t0)(e.t1),l((function(e){return[].concat((0,D.Z)(e),(0,D.Z)(n))})),C(!1);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[]),w=function(){var e=(0,o.Z)((0,r.Z)().mark((function e(t){var o,i;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return C(!0),o=n.find((function(e){return e.name===t.name})),e.prev=2,e.next=5,(0,P.ic)(o,n);case 5:i=e.sent,l(i),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),console.warn("Retry upload failed");case 12:return e.prev=12,C(!1),e.finish(12);case 15:case"end":return e.stop()}}),e,null,[[2,9,12,15]])})));return function(t){return e.apply(this,arguments)}}(),j=function(e,t){l((function(t){return(0,D.Z)(t.filter((function(t){return t.name!==e})))}))},Z=(0,F.uI)({maxFiles:25,useFsAccessApi:!1,onDrop:R,multiple:!0,validator:z(t)}),S=Z.getRootProps,A=Z.getInputProps,I=Z.isDragActive,U=Z.open,W=t===c.RR.blog?"*/*":_.z6.image_or_video,q=t===c.RR.blog?p("uploadDragWithFiles"):p("uploadDragWithoutFiles"),E=function(){return d?"2px dashed ".concat(T.i.mvkRed.required):I?"2px dashed black":"2px dashed ".concat(T.i.mvkGrey.light)};return y?(0,k.jsx)(g.Z,{sx:{border:E(),display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",width:"100%",padding:"20px",marginTop:"5px"},children:(0,k.jsx)(c.ww,{})}):(0,k.jsxs)(k.Fragment,{children:[(0,k.jsxs)(g.Z,(0,b.Z)((0,b.Z)({"data-testid":"drag-and-drop-files"},S()),{},{onClick:function(e){return e.stopPropagation()},sx:{border:E(),display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",width:"100%",padding:"20px",marginTop:"5px"},children:[n.map((function(e,t){var n,r,o=e.isUploaded,i=e.name,a=e.originalFile,l=e.url;return o?(0,k.jsx)(c.S7,{buttonColor:null!==(n=null==x?void 0:x.styles.buttonColor)&&void 0!==n?n:"",fileName:e.name,hasThumbnail:B(a.type),index:t,onRemoveClick:j,originalFile:a,redColor:T.i.mvkRed.required,removeButtonContent:(0,k.jsx)(s.Z,{children:"X"}),filePreviewContainerSx:{width:"100%"},fileURL:l},i):(0,k.jsx)(c.S7,{isFailedUpload:!0,buttonColor:null!==(r=null==x?void 0:x.styles.buttonColor)&&void 0!==r?r:"",fileName:e.name,index:t,onRemoveClick:j,originalFile:a,redColor:T.i.mvkRed.required,hasThumbnail:B(a.type),fileUploadValidationMessage:p("validation.fileUpload"),filePreviewContainerSx:{width:"100%"},retryButtonContent:(0,k.jsx)(s.Z,{sx:function(e){return{color:e.palette.mvkRed.required,fontSize:"12px"}},children:p("validation.retry")}),onRetryClick:w,removeButtonContent:(0,k.jsx)(s.Z,{children:"X"})},i)})),(0,k.jsx)("input",(0,b.Z)({},A({accept:W}))),(0,k.jsx)(c.UV,{onClick:U,variant:"community-primary",size:"small",sx:{backgroundColor:null==x?void 0:x.styles.buttonColor,borderColor:null==x?void 0:x.styles.buttonColor,"&:hover":{backgroundColor:null==x?void 0:x.styles.buttonColorDarker,borderColor:null==x?void 0:x.styles.buttonColorDarker}},children:p("selectFileButton")}),(0,k.jsx)(s.Z,{"data-testid":"file-upload-label",sx:function(e){return{color:e.palette.mvkBlack.textColor}},children:q})]})),d&&(0,k.jsx)(s.Z,{sx:{color:T.i.mvkRed.required},children:p("validation.required")})]})},W=(n(86656),n(48032)),q=((0,h.Ry)({caption:(0,h.Z_)(),link:(0,h.Z_)(),additionalNotes:(0,h.Z_)().optional(),contentFiles:(0,h.IX)((0,h.Yj)())}),function(){var e,t=(0,a.useState)([]),n=(0,i.Z)(t,2),b=n[0],g=n[1],y=(0,v.Ly)().config,w=(0,x.UO)().campaignId,D=(0,x.s0)(),F=(0,m.useSearchParams)(),P=(0,i.Z)(F,1)[0],T=(0,f.$)("DraftContent",{keyPrefix:"SubmitDraftContent"}).t,_=(0,f.$)("Summary",{keyPrefix:"ContentDeliverablesSection"}).t,A=(0,x.TH)().state,I=A.contentType,z=A.requiredHashtag,B=A.ftcHashtag,q=(0,W.KW)(w),N=_(I),O=(0,W.v)(w).refetch,L=I===c.RR.blog?T("fileUploadLabel"):T("socialFileUploadLabel"),M={caption:T("validation.required"),requiredHashtag:T("validation.caption"),link:T("validation.required"),isInvalid:T("validation.isInvalid")},J=(0,p.cI)({defaultValues:Z,resolver:(0,l.F)(function(e){switch(e){case c.RR.blog:return function(e,t,n){return(0,h.Ry)({link:(0,h.Z_)().min(1,{message:e.link}),contentFiles:(0,h.IX)((0,h.Yj)()).optional(),additionalNotes:(0,h.Z_)().optional()}).superRefine((function(e,r){(!n||n.some((function(e){return""===e.url}))||j(t)&&!n.length)&&r.addIssue({code:"custom",message:"Required",path:["contentFiles"]})})).superRefine((function(t,n){t&&new RegExp("^(https?://((www\\.)?|[a-zA-Z0-9]+)\\.[a-zA-Z0-9]{2})").test(t.link)||n.addIssue({code:"custom",message:"".concat(t.link," ").concat(e.isInvalid),path:["link"]})}))}(M,I,b);case c.RR.image:case c.RR.video:return function(e,t){return(0,h.Ry)({additionalNotes:(0,h.Z_)().optional()}).superRefine((function(n,r){(!e||e.some((function(e){return""===e.url}))||j(t)&&!e.length)&&r.addIssue({code:"custom",message:"Required",path:["contentFiles"]})}))}(b,I);default:return function(e,t,n,r,o){return(0,h.Ry)({caption:(0,h.Z_)().min(1,{message:e.caption}),contentFiles:(0,h.IX)((0,h.Yj)()).optional(),additionalNotes:(0,h.Z_)().optional()}).superRefine((function(e,r){(!n||n.some((function(e){return""===e.url}))||j(t)&&!n.length)&&r.addIssue({code:"custom",message:"Required",path:["contentFiles"]})})).refine((function(e){try{return!r&&!o||(r&&!o?e&&r&&S(r).test(e.caption):!r&&o?e&&o&&S(o).test(e.caption):e&&r&&o&&S(r).test(e.caption)&&S(o).test(e.caption))}catch(e){console.error("RegExp Error:",e)}}),{message:e.requiredHashtag,path:["caption"]})}(M,I,b,z,B)}}(I)),mode:"onChange"}),$=J.handleSubmit,H=J.control,V=J.formState,G=function(){D({pathname:"/campaigns/".concat(w,"/draft-content"),search:(0,m.createSearchParams)({key:P.get("key")}).toString()})};return(0,k.jsx)(u.default,{sx:function(e){var t=e.palette;return{maxWidth:"800px",mx:"auto",boxShadow:"0 4px 8px 0 ".concat(t.mvkGrey.shadow,", 0 6px 20px 0 ").concat(t.mvkGrey.shadow),backgroundColor:"white"}},"data-testid":"draft-content-submit",children:(0,k.jsxs)(d.Z,{sx:{m:"15px 30px 15px 30px",gap:"10px"},children:[(0,k.jsx)(c.FP,{contentType:I,iconLabel:N,socialIconType:"minimal",iconLabelSx:{marginLeft:"20px",fontSize:"20px"},middleNode:(0,k.jsx)("div",{}),endNode:(0,k.jsx)("div",{}),setBorder:!1,iconWidth:"32px",iconHeight:"32px",iconContainerSx:{width:"auto"},sx:{padding:0,flexDirection:"row",alignItems:"center",justifyContent:"space-between",mb:"20px"},"data-testid":"social-icon-and-label"}),(0,k.jsxs)("form",{onSubmit:$((function(e){var t=e.additionalNotes,n=e.caption,i=e.link;q.mutate({contentType:I,files:b,notes:t,contentUrl:i,text:n},{onSuccess:function(){var e=(0,o.Z)((0,r.Z)().mark((function e(){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:O(),G();case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),onError:function(e){console.error("Mutate error:",e)}})})),children:[(0,k.jsx)(s.Z,{"data-testid":"upload-label",sx:function(e){return{color:e.palette.mvkBlack.textColor}},children:L}),(0,k.jsx)(U,{setContentFiles:g,contentFiles:b,contentType:I,requiredUploadError:!(null===(e=V.errors.contentFiles)||void 0===e||!e.message)}),function(e){switch(e){case c.RR.blog:return(0,k.jsx)(C,{containerStyles:{mt:"10px"},control:H,name:E.link});case c.RR.image:case c.RR.video:return null;default:return(0,k.jsxs)(k.Fragment,{children:[(0,k.jsx)(C,{containerStyles:{mt:"10px"},control:H,name:E.caption}),(0,k.jsxs)(s.Z,{sx:function(e){return{color:e.palette.mvkBlack.textColor,mt:"15px"}},children:[(0,k.jsxs)("span",{children:[" ",T("noteCaption.start")," "]}),(0,k.jsx)("b",{children:z}),B&&(0,k.jsxs)(k.Fragment,{children:[z&&(0,k.jsxs)("span",{children:[" ",T("noteCaption.and")," "]}),(0,k.jsx)("b",{children:B})]})]})]})}}(I),(0,k.jsx)(R,{containerStyles:{mt:"10px"},control:H,name:E.additionalNotes}),(0,k.jsxs)(u.default,{flexDirection:"row",width:"70%",sx:{mb:"20px",m:"auto"},children:[(0,k.jsx)(c.UV,{variant:"community-primary-outlined",size:"medium",sx:{textTransform:"uppercase",backgroundColor:"none",color:null==y?void 0:y.styles.buttonColor,borderColor:null==y?void 0:y.styles.buttonColor,"&:hover":{textDecoration:"none",backgroundColor:null==y?void 0:y.styles.buttonColor,borderColor:null==y?void 0:y.styles.buttonColorDark},m:"10px 0px 10px 5px",width:"100%"},onClick:G,children:T("cancel")}),(0,k.jsx)(c.UV,{type:"submit",variant:"community-primary",size:"medium",sx:{textTransform:"uppercase",backgroundColor:null==y?void 0:y.styles.buttonColor,borderColor:null==y?void 0:y.styles.buttonColor,"&:hover":{backgroundColor:null==y?void 0:y.styles.buttonColorDarker,borderColor:null==y?void 0:y.styles.buttonColorDarker},"&:disabled":{cursor:"not-allowed",color:"white",pointerEvents:"all",backgroundColor:null==y?void 0:y.styles.buttonColor,borderColor:null==y?void 0:y.styles.buttonColor},m:"10px 0px 10px 5px",width:"100%"},children:T("submit")})]})]})]})})}),E=function(e){return e.link="link",e.caption="caption",e.additionalNotes="additionalNotes",e}({})},86656:function(e,t,n){n.r(t),n.d(t,{DraftContentDetails:function(){return S}});var r=n(1413),o=n(29439),i=n(72791),a=n(58914),l=n(50228),c=n(67414),s=n(52797),u=n(33168),d=n(57689),p=n(11087),f=n(75831),x=n(7385),m=n(29381),h=n(69822),v=n(65924),b=n(82453),g=n(62812),y=n(80184),k=function(e){var t=e.isOpen,n=e.handleClose,r=e.handleCancelButtonClick,o=e.handleDeleteButtonClick,i=(0,u.$)("DraftContent",{keyPrefix:"DeleteDraftDialog"}).t;return(0,y.jsx)(b.Z,{open:t,onClose:n,"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description","data-testid":"deletedraft-dialog",children:(0,y.jsxs)(l.Z,{sx:{width:"fit-content",position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",backgroundColor:"white",boxShadow:24,padding:"28px 21px 21px 21px",maxHeight:"80%",borderRadius:"10px"},children:[(0,y.jsx)(l.Z,{sx:{display:"flex",justifyContent:"space-between"},children:(0,y.jsx)(g.Z,{variant:"h6",color:"mvkBlack.textColor",sx:{my:"10px",fontWeight:600},children:i("headerText")})}),(0,y.jsx)(g.Z,{color:"mvkBlack.textColor",sx:{my:"15px",fontSize:"15px"},children:i("dialogText")}),(0,y.jsxs)(l.Z,{sx:{display:"flex",justifyContent:"space-between"},children:[(0,y.jsx)(a.UV,{onClick:function(){return r()},disableElevation:!0,disableFocusRipple:!0,disableRipple:!0,disableTouchRipple:!0,variant:"outlined",color:"inherit",sx:{textTransform:"capitalize",letterSpacing:"1px",borderRadius:"8px",color:"black",width:"100px",padding:"12px",fontSize:"12px",fontWeight:540},children:i("cancel")}),(0,y.jsx)(a.UV,{onClick:function(){return o()},disableElevation:!0,disableFocusRipple:!0,disableRipple:!0,disableTouchRipple:!0,variant:"contained",color:"error",sx:{textTransform:"capitalize",letterSpacing:"1px",borderRadius:"8px",padding:"12px",width:"100px",fontSize:"12px",fontWeight:540},children:i("delete")})]})]})})},C={fontSize:"14px",padding:"5px",alignSelf:"start"},R=n(91933),w=n(92575),j=n(18135),Z=function(){return(0,R.useMutation)((function(e){return function(e){return j.m.put("".concat(w.pS,"/").concat(e),{draftContentId:e,isArchived:!0})}(e)}))},S=function(){var e=(0,u.$)("Summary",{keyPrefix:"ContentDeliverablesSection"}).t,t=(0,u.$)("DraftContent",{keyPrefix:"DraftContentDetails"}).t,n=(0,d.UO)().campaignId,b=(0,p.useSearchParams)(),R=(0,o.Z)(b,1)[0],w=(0,m.s)(n).data,j=(0,d.s0)(),S=(0,d.TH)().state,D=S.id,F=S.status,P=S.files,T=S.contentType,_=S.contentUrl,A=S.notes,I=S.text,z=S.feedback,B=(0,s.Z)("(max-width:800px)"),U=function(e){var t=(0,i.useState)(null),n=(0,o.Z)(t,2),a=n[0],l=n[1],c=(0,u.$)("DraftContent",{keyPrefix:"DraftsContent.statusLabels"}).t;return(0,i.useEffect)((function(){switch(e){case f.J.Pending:l((0,y.jsx)(g.Z,{"data-testid":"status-message",sx:(0,r.Z)((0,r.Z)({},C),{},{color:v.i.mvkBlack.textColor}),children:c("Submitted")}));break;case f.J.ConditionallyApproved:l((0,y.jsx)(g.Z,{"data-testid":"status-message",sx:(0,r.Z)((0,r.Z)({},C),{},{color:v.i.mvkGreen.dark}),children:c("ApprovedWithCorrections")}));break;case f.J.Approved:l((0,y.jsx)(g.Z,{"data-testid":"status-message",sx:(0,r.Z)((0,r.Z)({},C),{},{color:v.i.mvkGreen.dark}),children:c("Approved")}));break;case f.J.Rejected:l((0,y.jsx)(g.Z,{"data-testid":"status-message",sx:(0,r.Z)((0,r.Z)({},C),{},{color:v.i.mvkRed.required}),children:c("NeedsWork")}));break;default:return}}),[e,c]),a}(F),W=(0,x.wp)("/campaigns/".concat(n,"/draft-content")),q=Z(),E=(0,i.useState)(!1),N=(0,o.Z)(E,2),O=N[0],L=N[1],M=function(){return L(!1)},J=(0,h.Ly)().config,$=e(T),H=P&&1===P.length,V=F===f.J.Rejected,G=F===f.J.Pending,K=!B&&H,Q=function(){return B?"40vw":H?"200px":"130px"};return(0,y.jsxs)(c.default,{"data-testid":"draft-content-details",sx:function(e){var t=e.palette;return{maxWidth:"800px",mx:"auto",boxShadow:"0 4px 8px 0 ".concat(t.mvkGrey.shadow,", 0 6px 20px 0 ").concat(t.mvkGrey.shadow),backgroundColor:"white"}},children:[(0,y.jsx)(k,{isOpen:O,handleClose:M,handleCancelButtonClick:M,handleDeleteButtonClick:function(){q.mutate(D,{onSuccess:function(){W()}})}}),(0,y.jsxs)(c.default,{flexDirection:"column",sx:{padding:"20px 20px 40px",marginBottom:"30px"},children:[(0,y.jsx)(a.FP,{contentType:T,iconLabel:$,socialIconType:"minimal",iconLabelSx:{marginLeft:"20px",fontSize:"20px"},middleNode:(0,y.jsx)("div",{}),endNode:U,setBorder:!1,iconWidth:"32px",iconHeight:"32px",iconContainerSx:{width:"auto"},sx:{padding:0,flexDirection:"row",alignItems:"center",justifyContent:"space-between"}}),(0,y.jsxs)(l.Z,{sx:{display:"flex",width:"100%",flexDirection:H&&!B?"row":"column",alignItems:B?"center":"flex-start"},children:[(0,y.jsx)(c.default,{flexDirection:"row",sx:{flexWrap:"wrap"},children:P&&P.length?P.map((function(e){var t=e.type,n=e.url,r=e.name;return t.includes("video")?(0,y.jsx)("video",{"data-testid":"draft-video",controls:!0,src:n,style:{width:B?"40vw":"200px",height:B?"40vw":"200px",objectFit:"cover",backgroundPosition:"center center",backgroundRepeat:"no-repeat"}},r):(0,y.jsx)("img",{"data-testid":"draft-image",src:n,alt:r,style:{margin:"5px",width:Q(),height:Q(),objectFit:"cover",backgroundPosition:"center center",backgroundRepeat:"no-repeat"}},r)})):[]}),(0,y.jsxs)(l.Z,{sx:{marginLeft:K?"10px":0,height:"100%",alignSelf:"start",marginBottom:"20px",boxSizing:"border-box",width:"100%"},children:[T!==a.RR.blog?(0,y.jsx)(a.zC,{label:t("caption"),textBoxSx:{fontSize:"14px"},text:null!=I?I:""}):T===a.RR.blog?(0,y.jsx)(a.zC,{isUrl:!0,label:t("contentUrl"),text:null!=_?_:""}):void 0,A&&(0,y.jsx)(a.zC,{textBoxSx:{fontSize:"14px",color:v.i.mvkBlack.textColor},label:t("additionalInformation"),text:null!=A?A:""})]})]}),(0,y.jsx)(a.zC,{isHtml:!0,label:t("feedback"),setBackground:!0,text:null!=z?z:""}),V&&(0,y.jsx)(a.UV,{variant:"community-primary",onClick:function(){return j({pathname:"/campaigns/".concat(n,"/draft-content/submit"),search:(0,p.createSearchParams)({key:R.get("key")}).toString()},{state:(0,r.Z)((0,r.Z)({},w),{},{contentType:T})})},sx:{width:"200px",backgroundColor:null==J?void 0:J.styles.buttonColor,borderColor:null==J?void 0:J.styles.buttonColor,"&:hover":{backgroundColor:null==J?void 0:J.styles.buttonColorDark,borderColor:null==J?void 0:J.styles.buttonColorDark}},children:t("resubmit")}),(0,y.jsx)(a.UV,{variant:V?"community-back":"community-primary",sx:(0,r.Z)({width:"200px",mx:"auto",textTransform:"uppercase"},!V&&{backgroundColor:null==J?void 0:J.styles.buttonColor,borderColor:null==J?void 0:J.styles.buttonColor,"&:hover":{backgroundColor:null==J?void 0:J.styles.buttonColorDark,borderColor:null==J?void 0:J.styles.buttonColorDark}}),onClick:W,children:t("back")}),G&&(0,y.jsx)(a.UV,{variant:"outlined",color:"error",sx:{width:"200px",mx:"auto",textTransform:"capitalize"},onClick:function(){return L(!0)},children:t("delete")})]})]})}},48032:function(e,t,n){n.d(t,{DQ:function(){return p},v:function(){return a},KW:function(){return l}});var r=n(91933),o=n(92575),i=n(18135),a=function(e){return(0,r.useQuery)([o.ZM],(function(){return function(e){return i.m.get("".concat(o.ZM,"/").concat(e))}(e)}),{staleTime:0,refetchOnMount:"always",refetchOnWindowFocus:"always"})},l=(n(90592),function(e){return(0,r.useMutation)((function(t){return function(e,t){return i.m.post("".concat(o.ZM,"/").concat(e),t)}(e,t)}))}),c=n(75831),s=n(65924),u=function(e){return e[e.Approved=s.i.mvkGreen.dark]="Approved",e[e.Rejected=s.i.mvkRed.rejected]="Rejected",e[e.Pending=s.i.mvkGrey.main]="Pending",e[e.Required=s.i.mvkBlack.textColor]="Required",e}(u||{}),d=function(e){switch(e){case c.J.Rejected:return{label:c.b.NeedsWork,color:u.Rejected};case c.J.Approved:return{label:c.b.Approved,color:u.Approved};case c.J.ConditionallyApproved:return{label:c.b.ApprovedWithCorrections,color:u.Approved};case c.J.Pending:return{label:c.b.Submitted,color:u.Pending};default:return{label:c.b.Required,color:u.Required}}},p=function(){return d}},17899:function(e,t,n){n.d(t,{m:function(){return o}});var r=n(58914),o=[r.RR.blog,r.RR.facebook,r.RR.facebook_live,r.RR.facebook_reel,r.RR.image,r.RR.instagram,r.RR.instagram_reel,r.RR.instagram_story,r.RR.linkedin,r.RR.pinterest,r.RR.snapchat_story,r.RR.tiktok,r.RR.twitch_stream,r.RR.twitter,r.RR.video,r.RR.youtube_video,r.RR.youtube_shorts]},80970:function(e,t,n){n.d(t,{FF:function(){return i},ic:function(){return m},nJ:function(){return a},ds:function(){return x}});var r=n(93433),o=n(79593),i=(n(17899),function(e,t){var n=[];t.forEach((function(e){var t=e.contentType,o=e.count;(0,r.Z)(Array(o)).forEach((function(){return n.push({contentType:t})}))}));var o=n;return e.forEach((function(e){o=function(e,t){var n=e.findIndex((function(e){return e.contentType===t}));return-1!==n&&e.splice(n,1),e}(o,null==e?void 0:e.contentType)})),[].concat((0,r.Z)(e),(0,r.Z)(o))}),a=function(e){var t=[],n=[];return e.forEach((function(e){e.status===o.ts.fulfilled&&t.push(e.value),e.status===o.ts.rejected&&n.push(e.reason)})),[].concat(t,n)},l=n(74165),c=n(15861),s=n(40070),u=n(92987),d=n(17880),p=function(e){return new Promise((function(t,n){var r=s.createFile(),o=new FileReader;o.onload=function(){var e=o.result;e&&(e.fileStart=0,r.appendBuffer(e))},o.readAsArrayBuffer(e),r.onReady=function(e){var n=e.mime||null,r=null;if(n){var o=n.indexOf("codecs")+8;r=n.substring(o,n.indexOf('"',o))||null}t(r)},r.onError=function(e){n(e)}}))},f=function(){var e=(0,c.Z)((0,l.Z)().mark((function e(t){var n,r,o;return(0,l.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n={url:"",name:t.name,type:t.type,size:t.size,lastModified:t.lastModified,isUploaded:!1,originalFile:t},!t.type.includes("video")){e.next=11;break}return e.prev=2,e.next=5,p(t);case 5:n.codec=e.sent,e.next=11;break;case 8:e.prev=8,e.t0=e.catch(2),console.warn(e.t0);case 11:if(r=(0,u.JW)(t)){e.next=14;break}return e.abrupt("return",n);case 14:return e.prev=14,e.next=17,(0,d.p)(t,r);case 17:if((o=e.sent)&&o.fileUrl){e.next=20;break}throw new Error("No requestData.url for ".concat(r,"."));case 20:n.url=o.fileUrl,n.isUploaded=!0,e.next=27;break;case 24:throw e.prev=24,e.t1=e.catch(14),n;case 27:return e.abrupt("return",n);case 28:case"end":return e.stop()}}),e,null,[[2,8],[14,24]])})));return function(t){return e.apply(this,arguments)}}(),x=function(e){var t=e.map(f);return Promise.allSettled(t)},m=function(){var e=(0,c.Z)((0,l.Z)().mark((function e(t,n){var o,i;return(0,l.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f(t.originalFile);case 2:return o=e.sent,i=n.findIndex((function(e){return e.name===o.name})),e.abrupt("return",[].concat((0,r.Z)(n.slice(0,i)),[o],(0,r.Z)(n.slice(i+1))));case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},92987:function(e,t,n){n.d(t,{JW:function(){return o},S:function(){return i},zc:function(){return a}});var r=n(10207),o=function(e){var t=(0,r.et)();if(!t)return null;var n=t.facebookExternalId,o=e.name.split("."),i=o[o.length-1];return"".concat(n,"_").concat(Math.floor(1e4*Math.random()),"_").concat((new Date).getTime(),".").concat(i)},i=function(e,t){var n=(new Date).toLocaleDateString().replace(/\//g,"-"),r=t===a.image?"user-content-upload":"file-upload",o=function(e){var t=("string"==typeof e?e:e.name).split(".");return".".concat(t[t.length-1])}(e),i=function(e){var t=("string"==typeof e?e:e.name).split(".");return"".concat(t[0])}(e).replace(/[\s|&;$%@"<>()+,]/g,"");return"".concat(r,"/").concat(i,"_").concat(n).concat(o)},a=function(e){return e.image="image",e.video="video",e.file="file",e}({})},17880:function(e,t,n){n.d(t,{p:function(){return d}});var r=n(1413),o=n(74165),i=n(15861),a=n(92575),l=n(79593),c=n(18135),s=function(){var e=(0,i.Z)((0,o.Z)().mark((function e(t){return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",c.m.post(a.CF,{fileName:t}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),u=function(e,t,n){for(var r={key:t,AWSAccessKeyId:n.awsKey,acl:"public-read",policy:n.policy,signature:n.signature,"Content-Type":e.type||"application/octet-stream",file:new Blob([e])},o=new FormData,i=0,c=Object.keys(r);i<c.length;i++){var s=c[i];o.append(s,r[s])}return{url:"".concat(a.yx,"/").concat(n.bucket),method:l.f2.POST,headers:{enctype:"multipart/form-data","Enclosure-type":"multipart/form-data"},body:o}},d=function(){var e=(0,i.Z)((0,o.Z)().mark((function e(t,n){var i,a,l;return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(localStorage.getItem("auth.profile")&&t){e.next=3;break}return e.abrupt("return");case 3:return e.prev=3,e.next=6,s(n);case 6:if(a=e.sent){e.next=9;break}throw new Error(n);case 9:i=u(t,n,a),e.next=16;break;case 12:throw e.prev=12,e.t0=e.catch(3),console.warn("Failed to get file upload policy.",e.t0),e.t0;case 16:if(i&&i.url){e.next=18;break}return e.abrupt("return");case 18:return e.prev=18,e.next=21,fetch(i.url,(0,r.Z)({},i));case 21:if((l=e.sent).ok){e.next=24;break}throw new Error("upload failed");case 24:return l.fileUrl="".concat(i.url,"/").concat(n),e.abrupt("return",l);case 28:throw e.prev=28,e.t1=e.catch(18),console.warn("Failed to upload ".concat(n,"."),e.t1),e.t1;case 32:case"end":return e.stop()}}),e,null,[[3,12],[18,28]])})));return function(t,n){return e.apply(this,arguments)}}()}}])}});