!function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="//d36aba6isifr8u.cloudfront.net/",n(n.s=1063)}({1063:function(e,t,n){"use strict";(self.webpackChunkreact_app=self.webpackChunkreact_app||[]).push([[225],{75831:function(e,t,n){n.d(t,{J:function(){return r},b:function(){return o}});var r=function(e){return e.Pending="pending",e.Approved="approved",e.Rejected="rejected",e.ConditionallyApproved="conditionally_approved",e}({}),o=function(e){return e.NeedsWork="NeedsWork",e.Approved="Approved",e.ApprovedWithCorrections="ApprovedWithCorrections",e.Submitted="Submitted",e.Required="Required",e}({})},29381:function(e,t,n){n.d(t,{s:function(){return r.s}});var r=n(7595)},7595:function(e,t,n){n.d(t,{s:function(){return a}});var r=n(91933),o=n(53954),i=n(92575),a=function(e){return(0,r.useQuery)([i.NS,e],(function(){return(0,o.p2)(e)}),{retry:!0})}},86656:function(e,t,n){n.r(t),n.d(t,{DraftContentDetails:function(){return Z}});var r=n(1413),o=n(29439),i=n(72791),a=n(58914),c=n(50228),s=n(67414),l=n(52797),u=n(33168),d=n(57689),p=n(11087),f=n(75831),x=n(7385),g=n(29381),b=n(69822),h=n(65924),v=n(82453),m=n(62812),y=n(80184),k=function(e){var t=e.isOpen,n=e.handleClose,r=e.handleCancelButtonClick,o=e.handleDeleteButtonClick,i=(0,u.$)("DraftContent",{keyPrefix:"DeleteDraftDialog"}).t;return(0,y.jsx)(v.Z,{open:t,onClose:n,"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description","data-testid":"deletedraft-dialog",children:(0,y.jsxs)(c.Z,{sx:{width:"fit-content",position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",backgroundColor:"white",boxShadow:24,padding:"28px 21px 21px 21px",maxHeight:"80%",borderRadius:"10px"},children:[(0,y.jsx)(c.Z,{sx:{display:"flex",justifyContent:"space-between"},children:(0,y.jsx)(m.Z,{variant:"h6",color:"mvkBlack.textColor",sx:{my:"10px",fontWeight:600},children:i("headerText")})}),(0,y.jsx)(m.Z,{color:"mvkBlack.textColor",sx:{my:"15px",fontSize:"15px"},children:i("dialogText")}),(0,y.jsxs)(c.Z,{sx:{display:"flex",justifyContent:"space-between"},children:[(0,y.jsx)(a.UV,{onClick:function(){return r()},disableElevation:!0,disableFocusRipple:!0,disableRipple:!0,disableTouchRipple:!0,variant:"outlined",color:"inherit",sx:{textTransform:"capitalize",letterSpacing:"1px",borderRadius:"8px",color:"black",width:"100px",padding:"12px",fontSize:"12px",fontWeight:540},children:i("cancel")}),(0,y.jsx)(a.UV,{onClick:function(){return o()},disableElevation:!0,disableFocusRipple:!0,disableRipple:!0,disableTouchRipple:!0,variant:"contained",color:"error",sx:{textTransform:"capitalize",letterSpacing:"1px",borderRadius:"8px",padding:"12px",width:"100px",fontSize:"12px",fontWeight:540},children:i("delete")})]})]})})},C={fontSize:"14px",padding:"5px",alignSelf:"start"},j=n(91933),w=n(92575),S=n(18135),O=function(){return(0,j.useMutation)((function(e){return function(e){return S.m.put("".concat(w.pS,"/").concat(e),{draftContentId:e,isArchived:!0})}(e)}))},Z=function(){var e=(0,u.$)("Summary",{keyPrefix:"ContentDeliverablesSection"}).t,t=(0,u.$)("DraftContent",{keyPrefix:"DraftContentDetails"}).t,n=(0,d.UO)().campaignId,v=(0,p.useSearchParams)(),j=(0,o.Z)(v,1)[0],w=(0,g.s)(n).data,S=(0,d.s0)(),Z=(0,d.TH)().state,P=Z.id,D=Z.status,R=Z.files,z=Z.contentType,T=Z.contentUrl,I=Z.notes,N=Z.text,B=Z.feedback,A=(0,l.Z)("(max-width:800px)"),L=function(e){var t=(0,i.useState)(null),n=(0,o.Z)(t,2),a=n[0],c=n[1],s=(0,u.$)("DraftContent",{keyPrefix:"DraftsContent.statusLabels"}).t;return(0,i.useEffect)((function(){switch(e){case f.J.Pending:c((0,y.jsx)(m.Z,{"data-testid":"status-message",sx:(0,r.Z)((0,r.Z)({},C),{},{color:h.i.mvkBlack.textColor}),children:s("Submitted")}));break;case f.J.ConditionallyApproved:c((0,y.jsx)(m.Z,{"data-testid":"status-message",sx:(0,r.Z)((0,r.Z)({},C),{},{color:h.i.mvkGreen.dark}),children:s("ApprovedWithCorrections")}));break;case f.J.Approved:c((0,y.jsx)(m.Z,{"data-testid":"status-message",sx:(0,r.Z)((0,r.Z)({},C),{},{color:h.i.mvkGreen.dark}),children:s("Approved")}));break;case f.J.Rejected:c((0,y.jsx)(m.Z,{"data-testid":"status-message",sx:(0,r.Z)((0,r.Z)({},C),{},{color:h.i.mvkRed.required}),children:s("NeedsWork")}));break;default:return}}),[e,s]),a}(D),W=(0,x.wp)("/campaigns/".concat(n,"/draft-content")),U=O(),E=(0,i.useState)(!1),J=(0,o.Z)(E,2),_=J[0],F=J[1],M=function(){return F(!1)},V=(0,b.Ly)().config,$=e(z),G=R&&1===R.length,H=D===f.J.Rejected,q=D===f.J.Pending,Q=!A&&G,Y=function(){return A?"40vw":G?"200px":"130px"};return(0,y.jsxs)(s.default,{"data-testid":"draft-content-details",sx:function(e){var t=e.palette;return{maxWidth:"800px",mx:"auto",boxShadow:"0 4px 8px 0 ".concat(t.mvkGrey.shadow,", 0 6px 20px 0 ").concat(t.mvkGrey.shadow),backgroundColor:"white"}},children:[(0,y.jsx)(k,{isOpen:_,handleClose:M,handleCancelButtonClick:M,handleDeleteButtonClick:function(){U.mutate(P,{onSuccess:function(){W()}})}}),(0,y.jsxs)(s.default,{flexDirection:"column",sx:{padding:"20px 20px 40px",marginBottom:"30px"},children:[(0,y.jsx)(a.FP,{contentType:z,iconLabel:$,socialIconType:"minimal",iconLabelSx:{marginLeft:"20px",fontSize:"20px"},middleNode:(0,y.jsx)("div",{}),endNode:L,setBorder:!1,iconWidth:"32px",iconHeight:"32px",iconContainerSx:{width:"auto"},sx:{padding:0,flexDirection:"row",alignItems:"center",justifyContent:"space-between"}}),(0,y.jsxs)(c.Z,{sx:{display:"flex",width:"100%",flexDirection:G&&!A?"row":"column",alignItems:A?"center":"flex-start"},children:[(0,y.jsx)(s.default,{flexDirection:"row",sx:{flexWrap:"wrap"},children:R&&R.length?R.map((function(e){var t=e.type,n=e.url,r=e.name;return t.includes("video")?(0,y.jsx)("video",{"data-testid":"draft-video",controls:!0,src:n,style:{width:A?"40vw":"200px",height:A?"40vw":"200px",objectFit:"cover",backgroundPosition:"center center",backgroundRepeat:"no-repeat"}},r):(0,y.jsx)("img",{"data-testid":"draft-image",src:n,alt:r,style:{margin:"5px",width:Y(),height:Y(),objectFit:"cover",backgroundPosition:"center center",backgroundRepeat:"no-repeat"}},r)})):[]}),(0,y.jsxs)(c.Z,{sx:{marginLeft:Q?"10px":0,height:"100%",alignSelf:"start",marginBottom:"20px",boxSizing:"border-box",width:"100%"},children:[z!==a.RR.blog?(0,y.jsx)(a.zC,{label:t("caption"),textBoxSx:{fontSize:"14px"},text:null!=N?N:""}):z===a.RR.blog?(0,y.jsx)(a.zC,{isUrl:!0,label:t("contentUrl"),text:null!=T?T:""}):void 0,I&&(0,y.jsx)(a.zC,{textBoxSx:{fontSize:"14px",color:h.i.mvkBlack.textColor},label:t("additionalInformation"),text:null!=I?I:""})]})]}),(0,y.jsx)(a.zC,{isHtml:!0,label:t("feedback"),setBackground:!0,text:null!=B?B:""}),H&&(0,y.jsx)(a.UV,{variant:"community-primary",onClick:function(){return S({pathname:"/campaigns/".concat(n,"/draft-content/submit"),search:(0,p.createSearchParams)({key:j.get("key")}).toString()},{state:(0,r.Z)((0,r.Z)({},w),{},{contentType:z})})},sx:{width:"200px",backgroundColor:null==V?void 0:V.styles.buttonColor,borderColor:null==V?void 0:V.styles.buttonColor,"&:hover":{backgroundColor:null==V?void 0:V.styles.buttonColorDark,borderColor:null==V?void 0:V.styles.buttonColorDark}},children:t("resubmit")}),(0,y.jsx)(a.UV,{variant:H?"community-back":"community-primary",sx:(0,r.Z)({width:"200px",mx:"auto",textTransform:"uppercase"},!H&&{backgroundColor:null==V?void 0:V.styles.buttonColor,borderColor:null==V?void 0:V.styles.buttonColor,"&:hover":{backgroundColor:null==V?void 0:V.styles.buttonColorDark,borderColor:null==V?void 0:V.styles.buttonColorDark}}),onClick:W,children:t("back")}),q&&(0,y.jsx)(a.UV,{variant:"outlined",color:"error",sx:{width:"200px",mx:"auto",textTransform:"capitalize"},onClick:function(){return F(!0)},children:t("delete")})]})]})}},33168:function(e,t,n){n.d(t,{$:function(){return x}});var r=n(29439),o=n(4942),i=n(72791),a=n(38589);function c(){if(console&&console.warn){for(var e,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];"string"==typeof n[0]&&(n[0]="react-i18next:: ".concat(n[0])),(e=console).warn.apply(e,n)}}var s={};function l(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];"string"==typeof t[0]&&s[t[0]]||("string"==typeof t[0]&&(s[t[0]]=new Date),c.apply(void 0,t))}function u(e,t,n){e.loadNamespaces(t,(function(){e.isInitialized?n():e.on("initialized",(function t(){setTimeout((function(){e.off("initialized",t)}),0),n()}))}))}function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var f=function(e,t){var n=(0,i.useRef)();return(0,i.useEffect)((function(){n.current=t?n.current:e}),[e,t]),n.current};function x(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.i18n,o=(0,i.useContext)(a.OO)||{},c=o.i18n,s=o.defaultNS,d=n||c||(0,a.nI)();if(d&&!d.reportNamespaces&&(d.reportNamespaces=new a.zv),!d){l("You will need to pass in an i18next instance by using initReactI18next");var x=function(e){return Array.isArray(e)?e[e.length-1]:e},g=[x,{},!1];return g.t=x,g.i18n={},g.ready=!1,g}d.options.react&&void 0!==d.options.react.wait&&l("It seems you are still using the old wait option, you may migrate to the new useSuspense behaviour.");var b=p(p(p({},(0,a.JP)()),d.options.react),t),h=b.useSuspense,v=b.keyPrefix,m=e||s||d.options&&d.options.defaultNS;m="string"==typeof m?[m]:m||["translation"],d.reportNamespaces.addUsedNamespaces&&d.reportNamespaces.addUsedNamespaces(m);var y=(d.isInitialized||d.initializedStoreOnce)&&m.every((function(e){return function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return t.languages&&t.languages.length?void 0!==t.options.ignoreJSONStructure?t.hasLoadedNamespace(e,{precheck:function(t,r){if(n.bindI18n&&n.bindI18n.indexOf("languageChanging")>-1&&t.services.backendConnector.backend&&t.isLanguageChangingTo&&!r(t.isLanguageChangingTo,e))return!1}}):function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=t.languages[0],o=!!t.options&&t.options.fallbackLng,i=t.languages[t.languages.length-1];if("cimode"===r.toLowerCase())return!0;var a=function(e,n){var r=t.services.backendConnector.state["".concat(e,"|").concat(n)];return-1===r||2===r};return!(n.bindI18n&&n.bindI18n.indexOf("languageChanging")>-1&&t.services.backendConnector.backend&&t.isLanguageChangingTo&&!a(t.isLanguageChangingTo,e)||!t.hasResourceBundle(r,e)&&t.services.backendConnector.backend&&(!t.options.resources||t.options.partialBundledLanguages)&&(!a(r,e)||o&&!a(i,e)))}(e,t,n):(l("i18n.languages were undefined or empty",t.languages),!0)}(e,d,b)}));function k(){return d.getFixedT(null,"fallback"===b.nsMode?m:m[0],v)}var C=(0,i.useState)(k),j=(0,r.Z)(C,2),w=j[0],S=j[1],O=m.join(),Z=f(O),P=(0,i.useRef)(!0);(0,i.useEffect)((function(){var e=b.bindI18n,t=b.bindI18nStore;function n(){P.current&&S(k)}return P.current=!0,y||h||u(d,m,(function(){P.current&&S(k)})),y&&Z&&Z!==O&&P.current&&S(k),e&&d&&d.on(e,n),t&&d&&d.store.on(t,n),function(){P.current=!1,e&&d&&e.split(" ").forEach((function(e){return d.off(e,n)})),t&&d&&t.split(" ").forEach((function(e){return d.store.off(e,n)}))}}),[d,O]);var D=(0,i.useRef)(!0);(0,i.useEffect)((function(){P.current&&!D.current&&S(k),D.current=!1}),[d,v]);var R=[w,d,y];if(R.t=w,R.i18n=d,R.ready=y,y)return R;if(!y&&!h)return R;throw new Promise((function(e){u(d,m,(function(){e()}))}))}}}])}});